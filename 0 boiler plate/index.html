<!doctype html>
<html>

<head>

    <title>hello world</title>

    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">

    <style>
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100vh;
            font-size: 0;
            font-family: sans-serif;
            color: #fff;
            background-color: #000;
            user-select: none;
        }

        stage,
        svg,
        path {
            position: fixed;
            overflow: visible;
        }
    </style>

</head>

<body></body>

<script>

    let twrk = {};

    //time
    twrk.time = 0;
    twrk.timeBefore = 0;
    twrk.timeDelta = 0;

    twrk.svgNameSpace = "http://www.w3.org/2000/svg";

    //coordinate system
    twrk.width = 120;
    if (twrk.width) {
        twrk.res = Math.trunc(window.innerWidth / twrk.width * 100) / 100;
        twrk.height = Math.trunc(window.innerHeight / twrk.res);
    } else if (twrk.height) {
        twrk.res = Math.trunc(window.innerHeight / twrk.height * 100) / 100;
        twrk.width = Math.trunc(window.innerWidth / twrk.res);
    }
    twrk.center = { x: Math.trunc(twrk.width / 2), y: Math.trunc(twrk.height / 2) };

    //svg
    twrk.makeSvgLayer = function ({ parent, id, x = 0, y = 0 }) {
        twrk.dom[id] = document.createElementNS(twrk.svgNameSpace, "svg");
        twrk.dom[id].id = id;
        twrk.dom[id].style.transform = "translateX(" + (x * twrk.res) + "px) translateY(" + (y * twrk.res) + "px)";
        document.getElementById(parent).appendChild(twrk.dom[id]);
    };

    twrk.makeSvgShape = function ({ parent, id, d = "", color = "#ff00ff" }) {
        twrk.dom[id] = document.createElementNS(twrk.svgNameSpace, "path");
        twrk.dom[id].setAttributeNS(null, "fill", color);
        twrk.dom[id].setAttributeNS(null, "d", d);
        twrk.dom[id].id = id;
        document.getElementById(parent).appendChild(twrk.dom[id]);
    };

    twrk.svgPath = function (ia) {
        if (ia.length > 0) {
            var output = "M ";

            //starting point
            output += Math.trunc(ia[0].x * twrk.res * 100) / 100 + " ";
            output += Math.trunc(ia[0].y * twrk.res * 100) / 100 + " ";

            //all other points
            for (var i = 1; i < ia.length; i++) {
                output += Math.trunc(ia[i].x * twrk.res * 100) / 100 + " ";
                output += Math.trunc(ia[i].y * twrk.res * 100) / 100 + " ";
            }
            output += Math.trunc(ia[0].y * twrk.res * 100) / 100 + " "; output += "z";

            return output;
        }
    };

    //doms
    twrk.dom = {};

    //adding main stage for all elements to have same coordinates center
    twrk.dom.stage = document.createElement("stage");
    twrk.dom.stage.style.transform = "translateX(" + (twrk.center.x * twrk.res) + "px) translateY(" + (twrk.center.y * twrk.res) + "px)";
    twrk.dom.stage.id = "stage";
    document.body.appendChild(twrk.dom.stage);

    //add svg layer
    twrk.makeSvgLayer({ id: "svgLayer", x: 0, y: 0, parent: "stage" });

    //add shape
    twrk.makeSvgShape({ id: "example", color: "#ffffff", parent: "svgLayer" });

    //animate
    twrk.loop = function (time) {

        twrk.time = time; //time is a high res timestamp
        twrk.timeDelta = twrk.time - twrk.timeBefore;
        twrk.timeBefore = twrk.time;

        var speed = 200;
        twrk.dom.example.setAttributeNS(null, "d", twrk.svgPath([{ x: -20 * Math.sin(twrk.time / speed), y: -10 }, { x: 20, y: -10 }, { x: 20, y: 10 }, { x: -20, y: 10 }]));

        requestAnimationFrame(twrk.loop);
    }
    twrk.loop(twrk.time);

</script>

</html>